<!DOCTYPE HTML>
<html>

<head>
<title>Notice Board</title>
<link rel="stylesheet" type="text/css" href="login.css">
<!img src="images.jpg" style="width:200px;right:200px;height:228px;margin:10px;">
</head>
<body>


<!-- This is the part that sets up the form for sending and receiving data  -->
<div class="login-page">

  <div class="form">
<input type="email" id="email" name="email" placeholder="email">
<br>
<input type="password" id="password" name="password" placeholder="password">
<br>

<Button onclick="verifyData()">Login</Button>

 
<p id="display"> <!-- Will be used to display the received data -->

</p>


</div>
</div>



<script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>
<script>

  /*
    This is the inital firebase configuration that you can find by going to
    https://console.firebase.google.com/
    click on your project, you should see the overview tab, click on Add firebase to your web app
    and get the API key and urls for the endpoints, and paste it in in the config variable below.
    note the marked %% spots where you'll need to change the configuration for your app.

  */
  // Initialize Firebase with YOUR API Keys
;
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDPz0mOsqhcyWiOh_RUsqVENoF9eu_NlIY",
    authDomain: "notice-board-babe0.firebaseapp.com",
    databaseURL: "https://notice-board-babe0.firebaseio.com",
    storageBucket: "notice-board-babe0.appspot.com",
  };
  firebase.initializeApp(config);
  //Make sure you go to console.firebase.google.com, under database, under rules allow public access to a path
  //for example if you want /foo/ to be publically accessible change the rules to look like:
  /*
        {
          "rules": {
            ".read": "auth != null",
            ".write": "auth != null",
             "foo": {
              ".read": true,
              ".write": true,
            }
          }
        }
  */
</script>





<script>
function getRandomArbitrary(min, max) {
    return Math.random() * (max - min) + min;
}
//https://firebase.google.com/docs/database/web/save-data - Correct Documentation
   function func()
  {//to check if checkbox is checked
     var user = firebase.auth().currentUser;
 
    if (user) {
       // User is signed in.
	   //Go to upload page directly
       } else {
       // No user is signed in.
	   //Log out
	 
      }
	 
  
  }
  function verifyData()
  { //to login
        var email =document.getElementById("email").value; //gets value from html forms to save
		var password=document.getElementById("password").value;
	//if user is valid
	
	 firebase.auth().signInWithEmailAndPassword(email, password).then(function() {

 
 // var uri = "beforechange.html";
//var res = encodeURI(uri);
var id=getRandomArbitrary(2,100);
  var uri = "  email="+email+"*id ^"+id%20;
var res = encodeURI(uri);
 window.location.href="beforechange.html";
  console.log("Sign in success");
});
    //if user is invalid
    firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
  // Handle Errors here.
  var errorCode = error.code;
  var errorMessage = error.message;
  // ...
   //console.log("Sign in failed"+errorMessage);
  
   window.location.href="index.html";
});
  // Check browser support
if (typeof(Storage) !== "undefined") {
    // Store
    localStorage.setItem("email", email);
   
   
} else {
   alert("Sorry, your browser does not support Web Storage...");
} 
 }
 
</script>
</body>
</html>
